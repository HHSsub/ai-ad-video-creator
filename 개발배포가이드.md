# AI 광고 영상 제작 도구 - 배포 가이드

## 🚀 빠른 시작

### 1. 의존성 설치
```bash
npm install
# 또는
pnpm install
```

### 2. 환경변수 설정
`.env` 파일을 생성하고 다음 내용을 추가:

```bash
# Freepik API 키
FREEPIK_API_KEY=FPSX4d50dedb168fa135f409823665e009bb
VITE_FREEPIK_API_KEY=FPSX4d50dedb168fa135f409823665e009bb

# Gemini AI API 키  
GEMINI_API_KEY=AIzaSyB62d5eWaQDtQf4apwN4YLxLBl_ApO6R-0
VITE_GEMINI_API_KEY=AIzaSyB62d5eWaQDtQf4apwN4YLxLBl_ApO6R-0
```

### 3. 로컬 개발 서버 실행
```bash
npm run dev
```

브라우저에서 `http://localhost:5173` 접속

## 📦 Vercel 배포

### 1. Vercel CLI 설치 및 로그인
```bash
npm i -g vercel
vercel login
```

### 2. 프로젝트 초기화
```bash
vercel
```

### 3. 환경변수 설정
Vercel Dashboard에서 다음 환경변수들을 설정:

**Environment Variables:**
- `FREEPIK_API_KEY`: `FPSX4d50dedb168fa135f409823665e009bb`
- `GEMINI_API_KEY`: `AIzaSyB62d5eWaQDtQf4apwN4YLxLBl_ApO6R-0`
- `VITE_FREEPIK_API_KEY`: `FPSX4d50dedb168fa135f409823665e009bb`
- `VITE_GEMINI_API_KEY`: `AIzaSyB62d5eWaQDtQf4apwN4YLxLBl_ApO6R-0`

### 4. 배포 실행
```bash
vercel --prod
```

## 🔧 문제 해결

### API 키 오류
- Vercel Dashboard에서 환경변수가 올바르게 설정되었는지 확인
- 브라우저 개발자 도구 Network 탭에서 API 호출 상태 확인

### CORS 오류
- `vercel.json`의 CORS 헤더 설정 확인
- API 엔드포인트가 올바르게 호출되고 있는지 확인

### 이미지 생성 실패
- Freepik API 할당량 확인 (무료: 월 100회)
- 네트워크 연결 상태 확인
- API 키 유효성 확인

### 영상 생성 타임아웃
- Freepik 영상 생성은 시간이 오래 걸릴 수 있음 (2-5분)
- 폴링 간격을 늘려서 서버 부하 줄이기

## 📊 API 사용량 모니터링

### Freepik API
- 무료 플랜: 월 100회 이미지 생성
- 유료 플랜: 월 500-10,000회
- 영상 생성: 별도 크레딧 시스템

### Gemini API  
- 무료 플랜: 분당 15회, 일일 1,500회
- 유료 플랜: 분당 300회, 일일 30,000회

## 🎯 성능 최적화

### 1. 이미지 압축
- 업로드 이미지 크기 제한 (최대 10MB)
- WebP 형식 지원 추가 고려

### 2. API 호출 최적화
- 동시 요청 제한 (최대 3개)
- 요청 간격 조정 (1-2초)
- 실패시 재시도 로직

### 3. 캐싱 전략
- 생성된 이미지 URL 캐싱
- 스토리보드 결과 로컬 스토리지 저장

## 🔒 보안 고려사항

### API 키 관리
- 클라이언트에 노출되는 키 최소화
- 서버사이드에서만 중요한 API 호출 처리
- 정기적인 키 로테이션

### CORS 설정
- 허용된 도메인만 API 접근 가능하도록 제한
- 프로덕션에서는 와일드카드(*) 사용 지양

## 📈 향후 개선사항

### 1. 사용자 경험
- 실시간 진행률 표시
- 더 나은 에러 메시지
- 이미지 미리보기 개선

### 2. 기능 확장
- 더 많은 스타일 옵션
- 사용자 정의 프롬프트
- 영상 길이 세부 조정
- 음성 오버레이 추가

### 3. 성능 개선
- 병렬 처리 최적화
- CDN 활용
- 이미지 레이지 로딩

## 📞 지원

문제가 발생하거나 질문이 있으시면:
1. GitHub Issues 탭에서 문제 보고
2. 개발자 도구 콘솔 로그 확인
3. API 응답 상태 코드 확인

## 📄 라이센스

MIT License - 자유롭게 사용, 수정, 배포 가능